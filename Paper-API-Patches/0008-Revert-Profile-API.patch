From 96d8798b2f65254196b1df1e489e8157b7f802d0 Mon Sep 17 00:00:00 2001
From: momothereal <momothereal.mc@gmail.com>
Date: Fri, 4 Aug 2017 10:48:13 -0400
Subject: [PATCH] Revert Profile API


diff --git a/pom.xml b/pom.xml
index f693ea23..965f4cab 100644
--- a/pom.xml
+++ b/pom.xml
@@ -64,13 +64,6 @@
             <!-- Trove Provided by CraftBukkit -->
             <scope>provided</scope>
         </dependency>
-        <!-- Paper - Add Authlib for Profile API -->
-        <dependency>
-            <groupId>com.mojang</groupId>
-            <artifactId>authlib</artifactId>
-            <version>1.5.25</version> <!-- keep in sync with major MC versions -->
-            <scope>compile</scope> <!-- expose to Plugins -->
-        </dependency>
         <dependency>
             <groupId>co.aikar</groupId>
             <artifactId>fastutil-lite</artifactId>
diff --git a/src/main/java/com/destroystokyo/paper/event/profile/LookupProfileEvent.java b/src/main/java/com/destroystokyo/paper/event/profile/LookupProfileEvent.java
index 3b6995a7..a6b168c5 100644
--- a/src/main/java/com/destroystokyo/paper/event/profile/LookupProfileEvent.java
+++ b/src/main/java/com/destroystokyo/paper/event/profile/LookupProfileEvent.java
@@ -26,16 +26,6 @@ public class LookupProfileEvent extends Event {
         this.profile = profile;
     }
 
-    /**
-     * @return The profile that was recently looked up. This profile can be mutated
-     * @deprecated will be removed with 1.13, use {@link #getPlayerProfile()}
-     */
-    @Deprecated
-    @Nonnull
-    public GameProfile getProfile() {
-        return profile.getGameProfile();
-    }
-
     /**
      * @return The profile that was recently looked up. This profile can be mutated
      */
diff --git a/src/main/java/com/destroystokyo/paper/event/profile/PreLookupProfileEvent.java b/src/main/java/com/destroystokyo/paper/event/profile/PreLookupProfileEvent.java
index aa0666d5..423779c9 100644
--- a/src/main/java/com/destroystokyo/paper/event/profile/PreLookupProfileEvent.java
+++ b/src/main/java/com/destroystokyo/paper/event/profile/PreLookupProfileEvent.java
@@ -68,48 +68,6 @@ public class PreLookupProfileEvent extends Event {
         this.uuid = uuid;
     }
 
-    /**
-     * Get the properties for this profile
-     *
-     * @return the property map to attach to the new {@link PlayerProfile}
-     * @deprecated will be removed with 1.13  Use {@link #getProfileProperties()}
-     */
-    @Deprecated
-    @Nonnull
-    public Multimap<String, Property> getProperties() {
-        Multimap<String, Property> props = ArrayListMultimap.create();
-
-        for (ProfileProperty property : properties) {
-            props.put(property.getName(), new Property(property.getName(), property.getValue(), property.getSignature()));
-        }
-        return props;
-    }
-
-    /**
-     * Completely replaces all Properties with the new provided properties
-     * @param properties the properties to set on the new profile
-     * @deprecated will be removed with 1.13 Use {@link #setProfileProperties(Set)}
-     */
-    @Deprecated
-    public void setProperties(Multimap<String, Property> properties) {
-        this.properties = new HashSet<>();
-        properties.values().forEach(property -> {
-            this.properties.add(new ProfileProperty(property.getName(), property.getValue(), property.getSignature()));
-        });
-    }
-
-    /**
-     * Adds additional properties, without removing the original properties
-     * @param properties the properties to add to the existing properties
-     * @deprecated will be removed with 1.13 use {@link #addProfileProperties(Set)}
-     */
-    @Deprecated
-    public void addProperties(Multimap<String, Property> properties) {
-        properties.values().forEach(property -> {
-            this.properties.add(new ProfileProperty(property.getName(), property.getValue(), property.getSignature()));
-        });
-    }
-
     /**
      * @return The currently pending prepopulated properties.
      * Any property in this Set will be automatically prefilled on this Profile
diff --git a/src/main/java/com/destroystokyo/paper/event/profile/ProfileWhitelistVerifyEvent.java b/src/main/java/com/destroystokyo/paper/event/profile/ProfileWhitelistVerifyEvent.java
index 662e79e3..9c8c9f82 100644
--- a/src/main/java/com/destroystokyo/paper/event/profile/ProfileWhitelistVerifyEvent.java
+++ b/src/main/java/com/destroystokyo/paper/event/profile/ProfileWhitelistVerifyEvent.java
@@ -65,15 +65,6 @@ public class ProfileWhitelistVerifyEvent extends Event {
         this.kickMessage = kickMessage;
     }
 
-    /**
-     * The gameprofile of the player trying to connect
-     * @deprecated Will be removed in 1.13, use #{@link #getPlayerProfile()}
-     */
-    @Deprecated
-    public GameProfile getProfile() {
-        return profile.getGameProfile();
-    }
-
     /**
      * @return The profile of the player trying to connect
      */
-- 
2.16.0

